
language: bash

fast_finish: true

os:
  - windows
  - linux
  - osx

env:
  - DMD_VERSION=2.087.1 MAIN_VERSION=2

before_cache:
  - if [ "$TRAVIS_OS_NAME" = "osx" ]; then brew cleanup; fi;
  # - DIR="$PWD/dmd2"
  # - if [! -d "$DIR" ]; then source ./.travis/install_d.bash; fi;

cache:
  directories:
    - $HOME/Library/Caches/Homebrew
    # - $PWD/dmd2

script:
   # DO NOT USE "bash" here and inside sub-scripts, but use "source"
   # so we can change global variables like PATH in sub-scripts
   - source .travis/pipeline.bash

  #  - if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then bash ./.travis/rolling_release.bash; fi
   
